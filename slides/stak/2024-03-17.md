# Stak Scheme updates

[@raviqqe](https://github.com/raviqqe)

March 17, 2024

---

# Contents

- Stak Scheme
- Library system in R7RS
- Implementation
- Future work

---

# Library system update

## `import`

- `(rename ...)`
- `(prefix ...)`

## `export`

- `(rename ...)`

---

# Library system bug fixes

- Macro expansion
- Quotes

---

# Macro expansion

- Literals in macros need to be matched on expansion.
- Previously, they were not properly matched across library boundaries.

```scheme
(define-syntax cond
  (syntax-rules (else =>)
    ((_ (else result1 result2 ...))
      (begin result1 result2 ...))
```

---

# Future work

- Library system
  - `(rename ...)`
  - `(prefix ...)`

---

# Summary

- Building a library system is fun!
