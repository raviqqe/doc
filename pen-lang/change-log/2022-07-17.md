# Progress report in Pen programming language

## July 17th, 2022

[@raviqqe](https://github.com/raviqqe)

---

# Agenda

- Progress report
  - Reference counting optimization
  - C calling convention (no progress)
- Next plans

---

# Progress report

---

# Reference counting optimization

- Fibonacci number is 25% faster than the previous version!
  - Now, it's 2 times slower than Rust...
- Static pointer tagging was preventing direct calls of global functions.
  - Pointer tagging and untagging were not removed by foo.
  - Clang does it but at the level of CIL?
  - Its removal also led to simpler static memory block check.

---

# C calling convention (no progress)

- The Zig's developer says: https://twitter.com/andy_kelley/status/1527743699836280833
- LLVM's C calling convention is not the one used by C.
  - Linux on x86 uses System V ABI.

---

# Next plans

- Proper C calling convention in FFI [#444](https://github.com/pen-lang/pen/issues/444)
  - Compiling to MLIR?
- Application development?
  - WebGL???

---

# Summary

- Progress
  - Reference counting optimization
- Next plans
  - Record unboxing
